<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.action.system.sconf.mapper.SysDataLimitMapper">

    <select id="getDataLimitVoByScope" resultType="com.action.system.sconf.struct.vo.SysDataLimitVo">
        select sdl.id,
        sdl.type,
        sdl.contact_id,
        sdl.data_id,
        sdl.status
        from sys_data_limit sdl
        <where>
            ( 1=1
            <choose>
                <when test="groupIdList!=null and groupIdList.size>0">
                    or (
                    sdl.contact_id in
                    <foreach collection="groupIdList" item="item" open="(" separator="," close=")">
                        #{item}
                    </foreach>
                    )
                </when>
                <when test="postIdList!=null and postIdList.size>0">
                    or ( sdl.contact_id in
                    <foreach collection="postIdList" item="item" open="(" separator="," close=")">
                        #{item}
                    </foreach>
                    )
                </when>
                <when test="roleIdList!=null and roleIdList.size>0">
                    or ( sdl.contact_id in
                    <foreach collection="roleIdList" item="item" open="(" separator="," close=")">
                        #{item}
                    </foreach>
                    )
                </when>
            </choose>
            ) and sdl.status = "1"
        </where>
    </select>

</mapper>
